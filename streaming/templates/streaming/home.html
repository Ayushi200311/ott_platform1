<!-- home.html -->
{% extends 'streaming/base.html' %}
{% load static %}

{% block title %}Home - Stream View Carousel{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
{% endblock %}

{% block content %}
<!-- Hero Carousel -->
<div class="hero-carousel">
    <div class="slides-container" id="slides-container">
        {% for slide in hero_slides %}
        <div class="hero-slide {% if forloop.first %}active{% endif %}">
            <div class="hero-background" style="background-image: url('{% static slide.image %}');">
                <div class="hero-overlay"></div>
            </div>
            
            <div class="hero-content">
                <div class="container">
                    <div class="hero-info">
                        <!-- Badges -->
                        <div class="badges">
                            {% if slide.is_vip %}
                            <span class="badge badge-vip">VIP</span>
                            {% endif %}
                            <span class="badge badge-genre">{{ slide.genre }}</span>
                        </div>
                        
                        <!-- Title -->
                        <h1 class="hero-title">{{ slide.title }}</h1>
                        
                        <!-- Rating -->
                        <div class="hero-rating">
                            <i class="fas fa-star"></i>
                            <span class="rating-score">{{ slide.rating }}</span>
                            <span class="rating-year">• {{ slide.year }}</span>
                        </div>
                        
                        <!-- Description -->
                        <p class="hero-description">{{ slide.description }}</p>
                        
                        <!-- Actions -->
                        <div class="hero-actions">
                            {% comment %} <button class="btn btn-primary">
                                <i class="fas fa-play"></i>
                                Watch Now
                            </button> {% endcomment %}
                            {% comment %} <a href="{% url 'watch' slide.id %}" class="btn btn-primary"> {% endcomment %}
                            <a href="{% url 'streaming:watch' slide.id %}" class="btn btn-primary">

                                <i class="fas fa-play"></i>
                                Watch Now
                            </a>
                            <button class="btn btn-secondary">
                                More Info
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    
    <!-- Navigation Arrows -->
    <button class="carousel-nav prev" onclick="changeSlide(-1)">
        <i class="fas fa-chevron-left"></i>
    </button>
    <button class="carousel-nav next" onclick="changeSlide(1)">
        <i class="fas fa-chevron-right"></i>
    </button>
    
    <!-- Dots Navigation -->
    <div class="carousel-dots">
        {% for slide in hero_slides %}
        <button class="dot {% if forloop.first %}active{% endif %}" onclick="goToSlide({{ forloop.counter0 }})"></button>
        {% endfor %}
    </div>
</div>

<!-- Media Sections -->
<div class="media-sections">
    <!-- PlayTV Hot Section -->
    <section class="media-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">PlayTV Hot</h2>
                <div class="section-nav">
                    <button class="nav-btn" onclick="scrollMediaSection('hot', -1)">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="nav-btn" onclick="scrollMediaSection('hot', 1)">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            
            <div class="media-carousel" id="hot-carousel">
                {% for item in hot_items %}
                <div class="media-card">
                    <div class="card-image">
                        <img src="{% static item.image %}" alt="{{ item.title }}">
                        
                        <!-- VIP Badge -->
                        {% if item.is_vip %}
                        <span class="vip-badge">VIP</span>
                        {% endif %}
                        
                        <!-- Play Button Overlay -->
                        <div class="play-overlay">
                            {% comment %} <button class="play-btn">
                                <i class="fas fa-play"></i>
                            </button> {% endcomment %}
                            <a href="{% url 'streaming:watch' item.id %}" class="play-btn">
                                <i class="fas fa-play"></i>
                            </a>
                        </div>
                    </div>
                    
                    <div class="card-info">
                        <h3 class="card-title">{{ item.title }}</h3>
                        <div class="card-meta">
                            <i class="fas fa-star"></i>
                            <span>{{ item.rating }}</span>
                            <span>•</span>
                            <span>{{ item.year }}</span>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
    
    <!-- New Release Section -->
    <section class="media-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">New Release</h2>
                <div class="section-nav">
                    <button class="nav-btn" onclick="scrollMediaSection('new', -1)">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="nav-btn" onclick="scrollMediaSection('new', 1)">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            
            <div class="media-carousel" id="new-carousel">
                {% for item in new_items %}
                <div class="media-card">
                    <div class="card-image">
                        <img src="{% static item.image %}" alt="{{ item.title }}">
                        
                        <!-- VIP Badge -->
                        {% if item.is_vip %}
                        <span class="vip-badge">VIP</span>
                        {% endif %}
                        
                        <!-- Play Button Overlay -->
                        <div class="play-overlay">
                            {% comment %} <button class="play-btn">
                                <i class="fas fa-play"></i>
                            </button> {% endcomment %}
                            <a href="{% url 'streaming:watch' item.id %}" class="play-btn">
                                <i class="fas fa-play"></i>
                            </a>
                        </div>
                    </div>
                    
                    <div class="card-info">
                        <h3 class="card-title">{{ item.title }}</h3>
                        <div class="card-meta">
                            <i class="fas fa-star"></i>
                            <span>{{ item.rating }}</span>
                            <span>•</span>
                            <span>{{ item.year }}</span>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/home.js' %}"></script>
{% endblock %}



